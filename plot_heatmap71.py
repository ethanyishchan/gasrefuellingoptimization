import plotly.plotly as py
import plotly.graph_objs as go

py.sign_in('ysh', 'nw1egtyqbf')
colorscale = [[0, '#F45058'],[0.5,'#FEE971'],[1, '#54B468']] 

route_path = set([
(3,1),
(3,2),
(3,3),
(3,4),
(3,5),
(3,6),
(3,7),
(3,7),
(3,8),
(3,9),
(3,10),
(3,11),
(3,12),
(3,13),
(3,14),
(3,15),
(3,15),
(4,15),
(5,15),
(6,15),
(6,16),
(6,17),
(6,18),
(6,19),
(6,19),
(7,19),
(8,19),
(9,19),
(10,19),
(11,19),
(12,19),
(13,19),
(14,19),
(14,18),
(14,18),
(15,18),
(16,18),
(17,18),
(17,17),
(17,16),
(17,15),
(17,15),
(17,14),
(17,13)
])

gas_stations = set([
(17,15),
(2,11),
(3,15),
(3,7),
(2,12),
(6,19),
(11,1),
(14,18),
(12,16),
(15,6)
	])


z=[[4670.8, 4916.6, 5175.4, 4916.6, 4670.8, 4437.2, 2796.6, 2943.8, 3098.7, 3261.8, 3433.5, 3261.8, 3098.7, 2943.8, 2796.6, 2656.7, 2523.9, 2397.7, 2277.8, 2163.9],
[4916.6, 5175.4, 5447.8, 5175.4, 4916.6, 4670.8, 4437.2, 2796.6, 2943.8, 3098.7, 3261.8, 3098.7, 2943.8, 2796.6, 2796.6, 2656.7, 2523.9, 2397.7, 2277.8, 2163.9],
[5175.4, 5447.8, 5734.5, 5447.8, 5175.4, 4916.6, 4670.8, 4437.2, 2796.6, 2943.8, 3098.7, 2943.8, 2796.6, 2796.6, 2943.8, 2796.6, 2656.7, 2523.9, 2397.7, 2277.8],
[5447.8, 5734.5, 6036.3, 5734.5, 5447.8, 5175.4, 4916.6, 4670.8, 4437.2, 2796.6, 2943.8, 2796.6, 2796.6, 2943.8, 3098.7, 2943.8, 2796.6, 2656.7, 2523.9, 2397.7],
[5734.5, 6036.3, 6354.0, 6036.3, 5734.5, 5447.8, 5175.4, 4916.6, 4670.8, 4437.2, 2796.6, 2796.6, 2943.8, 3098.7, 3261.8, 3098.7, 2943.8, 2796.6, 2656.7, 2523.9],
[6036.3, 6354.0, 6688.4, 6354.0, 6036.3, 5734.5, 5447.8, 5175.4, 4916.6, 4670.8, 4437.2, 2943.8, 3098.7, 3261.8, 3433.5, 3261.8, 17470.1, 2943.8, 2796.6, 2656.7],
[6354.0, 6688.4, 7040.4, 6688.4, 6354.0, 6036.3, 5734.5, 5447.8, 5175.4, 4916.6, 4670.8, 11316.6, 2943.8, 3098.7, 3261.8, 17470.1, 18389.6, 17470.1, 2656.7, 2523.9],
[6236.1, 6564.3, 6688.4, 6354.0, 6036.3, 5734.5, 5447.8, 5175.4, 4916.6, 4670.8, 11316.6, 11912.2, 11316.6, 2943.8, 17470.1, 18389.6, 19984.9, 18389.6, 17470.1, 2397.7],
[6564.3, 6909.8, 6747.3, 6410.0, 6089.5, 5785.0, 5346.7, 5079.3, 4825.4, 11316.6, 11912.2, 12539.2, 11912.2, 17470.1, 18389.6, 19984.9, 21036.7, 19984.9, 18389.6, 17470.1],
[6909.8, 7273.5, 7102.4, 6747.3, 6410.0, 7626.5, 5785.0, 5346.7, 11316.6, 11912.2, 12539.2, 13199.1, 17470.1, 18389.6, 19984.9, 21036.7, 22857.1, 21036.7, 19984.9, 18389.6],
[7273.5, 7656.3, 7476.3, 7102.4, 7626.5, 8027.9, 7626.5, 11316.6, 11912.2, 12539.2, 13199.1, 17470.1, 18389.6, 19984.9, 21036.7, 22857.1, 24083.2, 22857.1, 21036.7, 19984.9],
[7478.5, 7872.1, 7869.7, 7626.5, 8027.9, 8450.4, 11316.6, 11912.2, 12539.2, 13199.1, 17470.1, 18389.6, 19984.9, 21036.7, 22857.1, 24083.2, 26134.6, 24083.2, 22857.1, 21036.7],
[7476.3, 7869.7, 8283.9, 8027.9, 8450.4, 11316.6, 11912.2, 12539.2, 13199.1, 17470.1, 18389.6, 19984.9, 21036.7, 22857.1, 24083.2, 26134.6, 27583.2, 26134.6, 24083.2, 22857.1],
[7869.7, 8283.9, 8719.9, 8450.4, 11316.6, 11912.2, 12539.2, 13199.1, 15270.3, 16074.0, 17470.1, 18389.6, 19984.9, 21036.7, 22857.1, 24083.2, 26134.6, 24083.2, 22857.1, 21036.7],
[8283.9, 8719.9, 9178.9, 11316.6, 11912.2, 12539.2, 13199.1, 15270.3, 16074.0, 16920.0, 17810.6, 18748.0, 19734.7, 20773.4, 21866.7, 23017.6, 24229.0, 23017.6, 21866.7, 20773.4],
[8027.9, 8450.4, 11316.6, 11912.2, 12539.2, 13199.1, 13893.8, 14625.1, 15394.8, 16205.1, 17058.0, 17955.8, 18748.0, 19734.7, 20773.4, 21866.7, 23017.6, 21866.7, 20773.4, 19734.7],
[8450.4, 8895.2, 9363.4, 11316.6, 11912.2, 12539.2, 13199.1, 13893.8, 14625.1, 15394.8, 16205.1, 17058.0, 17810.6, 18748.0, 19734.7, 20773.4, 21866.7, 20773.4, 19734.7, 18748.0],
[8895.2, 9363.4, 9856.2, 10374.9, 11316.6, 11912.2, 12539.2, 13199.1, 13893.8, 14625.1, 15394.8, 16205.1, 17058.0, 17955.8, 18748.0, 19734.7, 20773.4, 19734.7, 18748.0, 17810.6],
[9363.4, 9856.2, 10374.9, 10921.0, 11495.7, 12100.8, 11912.2, 12539.2, 13199.1, 13893.8, 14625.1, 15394.8, 16205.1, 17058.0, 17810.6, 18748.0, 19734.7, 18748.0, 17810.6, 16920.0],
[8895.2, 9363.4, 9856.2, 10374.9, 10921.0, 11495.7, 11316.6, 11912.2, 12539.2, 13199.1, 13893.8, 14625.1, 15394.8, 16205.1, 16920.0, 17810.6, 18748.0, 17810.6, 16920.0, 16074.0],
]

data = [go.Heatmap(colorscale=colorscale, z = z
	)]

annotations = []
for n, row in enumerate(z):
    for m, val in enumerate(row):
        var = z[m][n]
        annotations.append(
        	dict(
                text=str(val),
                x=m, y=n,
                # xref='x1', yref='y1',
                font=dict(color='black' if (m+1,n+1) in gas_stations else 'blue' if (m+1,n+1) in route_path else 'white'),
                showarrow=False))


fig = go.Figure(data=data)
fig['layout'].update(
    title="Heatmap",
    annotations=annotations,
    xaxis=dict(ticks='', side='top'),
    # ticksuffix is a workaround to add a bit of padding
    # font=dict(color='black' if val > 0.5 else 'black'),
    yaxis=dict(ticks='', ticksuffix='  '),
    width=1500,
    height=1500,
    autosize=False
)
url = py.plot(fig, filename='Annotated Heatmap', height=1000)
# plot_url = py.plot(data, filename='basic-heatmap')

f = open('proj_actions_output_1.csv')

